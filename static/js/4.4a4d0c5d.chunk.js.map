{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utilities/validators/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/profileBackground.jpg","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Textarea","input","meta","props","hasError","touched","error","className","styles","formControl","Input","required","value","maxLengthCreator","maxLength","length","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","descriptionItem","onDoubleClick","onChange","e","currentTarget","onBlur","autoFocus","ProfileInfo","wrapper","profileBackground","src","descriptionBlock","profile","photos","large","description","fullName","updateUserStatus","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","MyPosts","s","item","message","likesCounts","maxLength10","AddPostForm","onSubmit","handleSubmit","Field","component","validate","name","placeholder","reduxForm","form","postElements","posts","reverse","map","p","Post","key","id","postsBlock","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","Profile","Preloader","ProfileContainer","userId","this","match","params","authUserId","history","getUserProfile","getUserStatus","React","Component","compose","auth","withRouter","memo"],"mappings":"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","file":"static/js/4.4a4d0c5d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1unnd\",\"error\":\"FormsControls_error__amWdj\"};","import React from \"react\";\r\nimport styles from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return <>\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\r\n            <div>\r\n                <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n        </>\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n    return <>\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    </>\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__39M0N\",\"profileBackground\":\"ProfileInfo_profileBackground__23mlq\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__VlRTk\",\"description\":\"ProfileInfo_description__lU_fF\",\"descriptionItem\":\"ProfileInfo_descriptionItem__ImUEi\"};","module.exports = __webpack_public_path__ + \"static/media/profileBackground.450874ba.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__D_09Y\",\"posts\":\"MyPosts_posts__n8PCf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1NrTz\"};","import React, {useEffect, useState} from 'react'\r\nimport styles from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateMode = () => {\r\n        setEditMode(false)\r\n        // props.updateUserStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return <div className={styles.descriptionItem}>\r\n        {!editMode &&\r\n        <div>\r\n            <span onDoubleClick={activateMode}>{props.status || '-----'}</span>\r\n        </div>\r\n        }\r\n        {editMode &&\r\n        <div>\r\n            <input onChange={onStatusChange} onBlur={deactivateMode} autoFocus={true} value={status}/>\r\n        </div>}\r\n    </div>\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from 'react'\r\nimport styles from './ProfileInfo.module.css'\r\nimport profileBackground from '../../../assets/images/profileBackground.jpg'\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <img className={styles.profileBackground} src={profileBackground}/>\r\n            <div className={styles.descriptionBlock}>\r\n                <img src={props.profile.photos.large}/>\r\n                <div className={styles.description}>\r\n                    <div className={styles.descriptionItem}>Full name: {props.profile.fullName}</div>\r\n                    <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n                    <div className={styles.descriptionItem}>About: {props.profile.aboutMe}</div>\r\n                    <div className={styles.descriptionItem}>Contacts:\r\n                        <ul>\r\n                            <li>facebook: {props.profile.contacts.facebook}</li>\r\n                            <li>website: {props.profile.contacts.website}</li>\r\n                            <li>vk: {props.profile.contacts.vk}</li>\r\n                            <li>twitter: {props.profile.contacts.twitter}</li>\r\n                            <li>instagram: {props.profile.contacts.instagram}</li>\r\n                            <li>youtube: {props.profile.contacts.youtube}</li>\r\n                            <li>github: {props.profile.contacts.github}</li>\r\n                            <li>mainLink: {props.profile.contacts.mainLink}</li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst MyPosts = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://thewallpaper.co/wp-content/uploads/2017/08/disney-action-macbook-warrior-futuristic-hd-abstract-wallpapers-alien-backgrounds-aliens-fighting-adventure-avatar-mobile-scifi-free-images-fantasy.jpg' />\r\n            {props.message}\r\n            <div><span>Like: {props.likesCounts}</span></div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default MyPosts","import React from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilities/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nlet AddPostForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <Field component={Textarea}\r\n               validate={[required, maxLength10]}\r\n               name={'newPostText'}\r\n               placeholder={'Enter your text'}/>\r\n        <button>Add Post</button>\r\n    </form>\r\n}\r\n\r\nAddPostForm = reduxForm({form: 'profileAddNewPostForm'})(AddPostForm)\r\n\r\nconst MyPosts = props => {\r\n    let postElements = [...props.posts].reverse().map(p => <Post likesCounts={p.likesCounts} key={p.id} message={p.message}/>)\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddPostForm onSubmit={onAddPost}/>\r\n            <div className={s.posts}>\r\n                {postElements}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyPosts","import React from 'react';\r\nimport {addPost} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps,{addPost})(MyPosts)\r\n\r\nexport default MyPostsContainer","import React from 'react'\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer />\r\n        </div>)\r\n\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authUserId\r\n            if (!userId) this.props.history.push('/login')\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.id,\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    React.memo,\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}