(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{226:function(e,t,a){e.exports={formControl:"FormsControls_formControl__1unnd",error:"FormsControls_error__amWdj"}},227:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));var n=a(232),r=a(0),o=a.n(r),i=a(226),s=a.n(i),c=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),i=a.touched&&a.error;return o.a.createElement("div",{className:s.a.formControl+" "+(i?s.a.error:" ")},o.a.createElement("textarea",Object.assign({},t,r)),i&&o.a.createElement("span",null,a.error))},l=function(e){var t=e.input,a=e.meta,r=Object(n.a)(e,["input","meta"]),i=a.touched&&a.error;return o.a.createElement("div",{className:s.a.formControl+" "+(i?s.a.error:" ")},o.a.createElement("input",Object.assign({},t,r)),i&&o.a.createElement("span",null,a.error))}},228:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},230:function(e,t,a){e.exports=a.p+"static/media/user.209d8a39.jpg"},231:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(61);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},238:function(e,t,a){e.exports={wrapper:"ProfileInfo_wrapper__39M0N",profileBackground:"ProfileInfo_profileBackground__23mlq",descriptionBlock:"ProfileInfo_descriptionBlock__VlRTk",description:"ProfileInfo_description__lU_fF",descriptionItem:"ProfileInfo_descriptionItem__ImUEi",preloaderStatus:"ProfileInfo_preloaderStatus__1x4_I",preloaderProfile:"ProfileInfo_preloaderProfile__15JvS",status:"ProfileInfo_status__V9tcb"}},294:function(e,t,a){e.exports=a.p+"static/media/profileBackground.450874ba.jpg"},295:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__D_09Y",posts:"MyPosts_posts__n8PCf"}},296:function(e,t,a){e.exports={item:"Post_item__1NrTz"}},297:function(e,t,a){"use strict";a.r(t);var n=a(56),r=a(57),o=a(58),i=a(59),s=a(0),c=a.n(s),l=a(231),u=a(232),m=a(238),p=a.n(m),f=a(294),d=a.n(f),E=a(44),b=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(s.useState)(e.status),i=Object(l.a)(o,2),u=i[0],m=i[1],f=e.status!==u&&!n;Object(s.useEffect)((function(){m(e.status)}),[e.status]);return c.a.createElement("div",{className:p.a.descriptionItem},f&&c.a.createElement(E.a,{styles:p.a.preloaderStatus}),!n&&c.a.createElement("div",{className:p.a.status},c.a.createElement("span",{onClick:function(){r(!0)}},e.status||"-----")),n&&c.a.createElement("div",{className:p.a.status},c.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},onBlur:function(){r(!1),e.updateUserStatus(u)},autoFocus:!0,value:u})))},v=a(230),h=a.n(v),g=a(110),k=a(111),_=a(226),P=a.n(_),y=function(e){return c.a.createElement(c.a.Fragment,null,e.isOwner&&c.a.createElement("div",null,c.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.updatePhoto(t.target.files[0])}})))},j=Object(k.a)({form:"edit_profile"})((function(e){return c.a.createElement("div",{className:p.a.descriptionBlock},c.a.createElement("img",{alt:"Avatar",src:e.profile.photos.large||h.a}),c.a.createElement("div",{className:p.a.description},c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",{className:p.a.descriptionItem},"Full name :",c.a.createElement(g.a,{component:"input",type:"text",name:"fullName"})),c.a.createElement("div",{className:p.a.descriptionItem},"Looking For A job :",c.a.createElement(g.a,{component:"select",name:"lookingForAJob"},c.a.createElement("option",{value:"true"},"Yes"),c.a.createElement("option",{value:"false"},"No"))),c.a.createElement("div",{className:p.a.descriptionItem},"Job description :",c.a.createElement(g.a,{component:"input",type:"text",name:"lookingForAJobDescription"})),c.a.createElement("div",{className:p.a.descriptionItem},"About :",c.a.createElement(g.a,{component:"input",type:"text",name:"aboutMe"})),c.a.createElement("div",{className:p.a.descriptionItem},"Contacts:",Object.keys(e.profile.contacts).map((function(e){return c.a.createElement("div",{key:e},e+": ",c.a.createElement(g.a,{component:"input",type:"text",name:"contacts.".concat(e)}))}))),e.error&&c.a.createElement("div",{className:P.a.error},e.error),c.a.createElement("button",null,"Save"),c.a.createElement("button",{onClick:e.exitEditMode},"Back")),e.isPending&&!e.error&&c.a.createElement(E.a,{styles:p.a.preloaderProfile})),c.a.createElement(y,{updatePhoto:e.updatePhoto,isOwner:e.isOwner}))})),O=function(e){return c.a.createElement("div",{className:p.a.descriptionBlock},c.a.createElement("img",{alt:"Avatar",src:e.profile.photos.large||h.a}),c.a.createElement("div",{className:p.a.description},c.a.createElement("div",{className:p.a.descriptionItem},"Full name: ",e.profile.fullName),c.a.createElement(b,{status:e.status,updateUserStatus:e.updateUserStatus}),c.a.createElement(I,{lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription}),c.a.createElement("div",{className:p.a.descriptionItem},"About: ",e.profile.aboutMe),c.a.createElement(N,{contacts:e.profile.contacts}),e.isOwner&&c.a.createElement("div",null,c.a.createElement("button",{onClick:e.toEditMode},"Edit"))))},I=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:p.a.descriptionItem},"Looking for a job: ",e.lookingForAJob?"yes":"no"),e.lookingForAJob&&c.a.createElement("div",{className:p.a.descriptionItem},"Job description: ",e.lookingForAJobDescription))},N=function(e){return c.a.createElement("div",{className:p.a.descriptionItem},"Contacts:",c.a.createElement("ul",null,Object.keys(e.contacts).map((function(t){return c.a.createElement("li",{key:t},t+": "+e.contacts[t])}))))},S=function(e){var t=e.saveProfile,a=Object(u.a)(e,["saveProfile"]),n=Object(s.useState)(!1),r=Object(l.a)(n,2),o=r[0],i=r[1],m=Object(s.useState)(!1),f=Object(l.a)(m,2),E=f[0],b=f[1];return c.a.createElement("div",{className:p.a.wrapper},c.a.createElement("img",{alt:"Background",className:p.a.profileBackground,src:d.a}),o?c.a.createElement(j,Object.assign({},a,{isPending:E,initialValues:a.profile,onSubmit:function(e){b(!0),t(e).then((function(){b(!1),i(!1)}))},exitEditMode:function(){i(!1)}})):c.a.createElement(O,Object.assign({},a,{toEditMode:function(){i(!0)}})))},w=a(60),A=a(26),F=a(295),x=a.n(F),C=a(296),U=a.n(C),B=function(e){return c.a.createElement("div",{className:U.a.item},c.a.createElement("img",{alt:"avatar",src:"https://thewallpaper.co/wp-content/uploads/2017/08/disney-action-macbook-warrior-futuristic-hd-abstract-wallpapers-alien-backgrounds-aliens-fighting-adventure-avatar-mobile-scifi-free-images-fantasy.jpg"}),e.message,c.a.createElement("div",null,c.a.createElement("span",null,"Like: ",e.likesCounts)))},J=a(228),M=a(227),D=Object(J.a)(100),T=function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement(g.a,{component:M.b,validate:[J.b,D],name:"newPostText",placeholder:"Enter your text"}),c.a.createElement("button",null,"Add Post"))};T=Object(k.a)({form:"profileAddNewPostForm"})(T);var L=function(e){var t=Object(A.a)(e.posts).reverse().map((function(e){return c.a.createElement(B,{likesCounts:e.likesCounts,key:e.id,message:e.message})}));return c.a.createElement("div",{className:x.a.postsBlock},c.a.createElement("h3",null,"My posts"),c.a.createElement(T,{onSubmit:function(t){e.addPost(t.newPostText)}}),c.a.createElement("div",{className:x.a.posts},t))},V=a(22),q=Object(V.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:w.a})(L),Y=function(e){return e.profile?c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{profile:e.profile,isOwner:e.isOwner,updatePhoto:e.updatePhoto,status:e.status,updateUserStatus:e.updateUserStatus,saveProfile:e.saveProfile}),c.a.createElement(q,null)):c.a.createElement(E.a,null)},z=a(19),R=a(21),W=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),e&&(this.props.getUserProfile(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth||this.props.match.params.userId?c.a.createElement(Y,Object.assign({},this.props,{isOwner:!this.props.match.params.userId})):c.a.createElement(z.a,{to:"/login"})}}]),a}(c.a.Component);t.default=Object(R.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:w.c,getUserStatus:w.d,updateUserStatus:w.g,updatePhoto:w.f,saveProfile:w.e}),z.g,c.a.memo)(W)}}]);
//# sourceMappingURL=4.80313b29.chunk.js.map